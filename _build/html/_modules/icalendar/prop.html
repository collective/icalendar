
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>icalendar.prop &#8212; icalendar 6.3.2 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=164cab21"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_modules/icalendar/prop';</script>
    <script defer="defer" src="../../_static/js/custom-icons.js?v=c97652e3"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="6.3.2" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search"
         aria-label="Search"
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">icalendar 6.3.2 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../how-to/index.html">
    How to guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../reference/index.html">
    Reference guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contribute/index.html">
    Contributing
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
            
          
            
          
            
          
          
          
          
          
          
          
          
          
          <a href="https://github.com/collective/icalendar" title="GitHub" class="nav-link custom-fancy-css" rel="noopener me" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
            
          
            
          
            
          
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/icalendar" title="PyPI" class="nav-link custom-fancy-css" rel="noopener me" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-pypi fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../how-to/index.html">
    How to guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../reference/index.html">
    Reference guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contribute/index.html">
    Contributing
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
            
          
            
          
            
          
          
          
          
          
          
          
          
          
          <a href="https://github.com/collective/icalendar" title="GitHub" class="nav-link custom-fancy-css" rel="noopener me" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
            
          
            
          
            
          
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/icalendar" title="PyPI" class="nav-link custom-fancy-css" rel="noopener me" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-pypi fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Module code</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">icalendar.prop</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <h1>Source code for icalendar.prop</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;This module contains the parser/generators (or coders/encoders if you</span>
<span class="sd">prefer) for the classes/datatypes that are used in iCalendar:</span>

<span class="sd">###########################################################################</span>

<span class="sd"># This module defines these property value data types and property parameters</span>

<span class="sd">4.2 Defined property parameters are:</span>

<span class="sd">.. code-block:: text</span>

<span class="sd">     ALTREP, CN, CUTYPE, DELEGATED-FROM, DELEGATED-TO, DIR, ENCODING, FMTTYPE,</span>
<span class="sd">     FBTYPE, LANGUAGE, MEMBER, PARTSTAT, RANGE, RELATED, RELTYPE, ROLE, RSVP,</span>
<span class="sd">     SENT-BY, TZID, VALUE</span>

<span class="sd">4.3 Defined value data types are:</span>

<span class="sd">.. code-block:: text</span>

<span class="sd">    BINARY, BOOLEAN, CAL-ADDRESS, DATE, DATE-TIME, DURATION, FLOAT, INTEGER,</span>
<span class="sd">    PERIOD, RECUR, TEXT, TIME, URI, UTC-OFFSET</span>

<span class="sd">###########################################################################</span>

<span class="sd">iCalendar properties have values. The values are strongly typed. This module</span>
<span class="sd">defines these types, calling val.to_ical() on them will render them as defined</span>
<span class="sd">in rfc5545.</span>

<span class="sd">If you pass any of these classes a Python primitive, you will have an object</span>
<span class="sd">that can render itself as iCalendar formatted date.</span>

<span class="sd">Property Value Data Types start with a &#39;v&#39;. they all have an to_ical() and</span>
<span class="sd">from_ical() method. The to_ical() method generates a text string in the</span>
<span class="sd">iCalendar format. The from_ical() method can parse this format and return a</span>
<span class="sd">primitive Python datatype. So it should always be true that:</span>

<span class="sd">.. code-block:: python</span>

<span class="sd">    x == vDataType.from_ical(VDataType(x).to_ical())</span>

<span class="sd">These types are mainly used for parsing and file generation. But you can set</span>
<span class="sd">them directly.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">__future__</span><span class="w"> </span><span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">base64</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">binascii</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">icalendar.caselessdict</span><span class="w"> </span><span class="kn">import</span> <span class="n">CaselessDict</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">icalendar.enums</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">icalendar.parser</span><span class="w"> </span><span class="kn">import</span> <span class="n">Parameters</span><span class="p">,</span> <span class="n">escape_char</span><span class="p">,</span> <span class="n">unescape_char</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">icalendar.parser_tools</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">DEFAULT_ENCODING</span><span class="p">,</span>
    <span class="n">ICAL_TYPE</span><span class="p">,</span>
    <span class="n">SEQUENCE_TYPES</span><span class="p">,</span>
    <span class="n">from_unicode</span><span class="p">,</span>
    <span class="n">to_unicode</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">icalendar.timezone</span><span class="w"> </span><span class="kn">import</span> <span class="n">tzid_from_dt</span><span class="p">,</span> <span class="n">tzid_from_tzinfo</span><span class="p">,</span> <span class="n">tzp</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">icalendar.tools</span><span class="w"> </span><span class="kn">import</span> <span class="n">to_datetime</span>

<span class="n">DURATION_REGEX</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
    <span class="sa">r</span><span class="s2">&quot;([-+]?)P(?:(\d+)W)?(?:(\d+)D)?&quot;</span> <span class="sa">r</span><span class="s2">&quot;(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?)?$&quot;</span>
<span class="p">)</span>

<span class="n">WEEKDAY_RULE</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
    <span class="sa">r</span><span class="s2">&quot;(?P&lt;signal&gt;[+-]?)(?P&lt;relative&gt;[\d]{0,2})&quot;</span> <span class="sa">r</span><span class="s2">&quot;(?P&lt;weekday&gt;[\w]</span><span class="si">{2}</span><span class="s2">)$&quot;</span>
<span class="p">)</span>


<div class="viewcode-block" id="vBinary">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vBinary">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vBinary</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Binary property values are base 64 encoded.&quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>
    <span class="n">obj</span><span class="p">:</span> <span class="nb">str</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obj</span> <span class="o">=</span> <span class="n">to_unicode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;BASE64&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;BINARY&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;vBinary(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span><span class="si">}</span><span class="s2">)&quot;</span>

<div class="viewcode-block" id="vBinary.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vBinary.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">binascii</span><span class="o">.</span><span class="n">b2a_base64</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span></div>


<div class="viewcode-block" id="vBinary.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vBinary.from_ical">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="n">ical</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not valid base 64 encoding.&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span></div>


    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;self == other&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">vBinary</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">obj</span></div>



<div class="viewcode-block" id="vBoolean">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vBoolean">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vBoolean</span><span class="p">(</span><span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Boolean</span>

<span class="sd">    Value Name:  BOOLEAN</span>

<span class="sd">    Purpose:  This value type is used to identify properties that contain</span>
<span class="sd">      either a &quot;TRUE&quot; or &quot;FALSE&quot; Boolean value.</span>

<span class="sd">    Format Definition:  This value type is defined by the following</span>
<span class="sd">      notation:</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        boolean    = &quot;TRUE&quot; / &quot;FALSE&quot;</span>

<span class="sd">    Description:  These values are case-insensitive text.  No additional</span>
<span class="sd">      content value encoding is defined for this value type.</span>

<span class="sd">    Example:  The following is an example of a hypothetical property that</span>
<span class="sd">      has a BOOLEAN value type:</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        TRUE</span>

<span class="sd">    .. code-block:: pycon</span>

<span class="sd">        &gt;&gt;&gt; from icalendar.prop import vBoolean</span>
<span class="sd">        &gt;&gt;&gt; boolean = vBoolean.from_ical(&#39;TRUE&#39;)</span>
<span class="sd">        &gt;&gt;&gt; boolean</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; boolean = vBoolean.from_ical(&#39;FALSE&#39;)</span>
<span class="sd">        &gt;&gt;&gt; boolean</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; boolean = vBoolean.from_ical(&#39;True&#39;)</span>
<span class="sd">        &gt;&gt;&gt; boolean</span>
<span class="sd">        True</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>

    <span class="n">BOOL_MAP</span> <span class="o">=</span> <span class="n">CaselessDict</span><span class="p">({</span><span class="s2">&quot;true&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="vBoolean.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vBoolean.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">b</span><span class="s2">&quot;TRUE&quot;</span> <span class="k">if</span> <span class="bp">self</span> <span class="k">else</span> <span class="sa">b</span><span class="s2">&quot;FALSE&quot;</span></div>


<div class="viewcode-block" id="vBoolean.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vBoolean.from_ical">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ical</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">BOOL_MAP</span><span class="p">[</span><span class="n">ical</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected &#39;TRUE&#39; or &#39;FALSE&#39;. Got </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span></div>
</div>



<div class="viewcode-block" id="vText">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vText">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vText</span><span class="p">(</span><span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Simple text.&quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;encoding&quot;</span><span class="p">,</span> <span class="s2">&quot;params&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__new__</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">value</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="n">DEFAULT_ENCODING</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">to_unicode</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">)</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;vText(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span><span class="si">!r}</span><span class="s2">)&quot;</span>

<div class="viewcode-block" id="vText.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vText.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">escape_char</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span></div>


<div class="viewcode-block" id="vText.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vText.from_ical">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ical</span><span class="p">:</span> <span class="n">ICAL_TYPE</span><span class="p">):</span>
        <span class="n">ical_unesc</span> <span class="o">=</span> <span class="n">unescape_char</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ical_unesc</span><span class="p">)</span></div>


    <span class="kn">from</span><span class="w"> </span><span class="nn">icalendar.param</span><span class="w"> </span><span class="kn">import</span> <span class="n">ALTREP</span><span class="p">,</span> <span class="n">LANGUAGE</span><span class="p">,</span> <span class="n">RELTYPE</span></div>



<div class="viewcode-block" id="vCalAddress">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vCalAddress">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vCalAddress</span><span class="p">(</span><span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calendar User Address</span>

<span class="sd">    Value Name:</span>
<span class="sd">        CAL-ADDRESS</span>

<span class="sd">    Purpose:</span>
<span class="sd">        This value type is used to identify properties that contain a</span>
<span class="sd">        calendar user address.</span>

<span class="sd">    Description:</span>
<span class="sd">        The value is a URI as defined by [RFC3986] or any other</span>
<span class="sd">        IANA-registered form for a URI.  When used to address an Internet</span>
<span class="sd">        email transport address for a calendar user, the value MUST be a</span>
<span class="sd">        mailto URI, as defined by [RFC2368].</span>

<span class="sd">    Example:</span>
<span class="sd">        ``mailto:`` is in front of the address.</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            mailto:jane_doe@example.com</span>

<span class="sd">        Parsing:</span>

<span class="sd">        .. code-block:: pycon</span>

<span class="sd">            &gt;&gt;&gt; from icalendar import vCalAddress</span>
<span class="sd">            &gt;&gt;&gt; cal_address = vCalAddress.from_ical(&#39;mailto:jane_doe@example.com&#39;)</span>
<span class="sd">            &gt;&gt;&gt; cal_address</span>
<span class="sd">            vCalAddress(&#39;mailto:jane_doe@example.com&#39;)</span>

<span class="sd">        Encoding:</span>

<span class="sd">        .. code-block:: pycon</span>

<span class="sd">            &gt;&gt;&gt; from icalendar import vCalAddress, Event</span>
<span class="sd">            &gt;&gt;&gt; event = Event()</span>
<span class="sd">            &gt;&gt;&gt; jane = vCalAddress(&quot;mailto:jane_doe@example.com&quot;)</span>
<span class="sd">            &gt;&gt;&gt; jane.name = &quot;Jane&quot;</span>
<span class="sd">            &gt;&gt;&gt; event[&quot;organizer&quot;] = jane</span>
<span class="sd">            &gt;&gt;&gt; print(event.to_ical().decode().replace(&#39;\\r\\n&#39;, &#39;\\n&#39;).strip())</span>
<span class="sd">            BEGIN:VEVENT</span>
<span class="sd">            ORGANIZER;CN=Jane:mailto:jane_doe@example.com</span>
<span class="sd">            END:VEVENT</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;params&quot;</span><span class="p">,)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__new__</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">value</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="n">DEFAULT_ENCODING</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">to_unicode</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">)</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;vCalAddress(&#39;</span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>

<div class="viewcode-block" id="vCalAddress.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vCalAddress.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">DEFAULT_ENCODING</span><span class="p">)</span></div>


<div class="viewcode-block" id="vCalAddress.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vCalAddress.from_ical">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ical</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">email</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The email address without mailto: at the start.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;mailto:&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="mi">7</span><span class="p">:]</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">icalendar.param</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
        <span class="n">CN</span><span class="p">,</span>
        <span class="n">CUTYPE</span><span class="p">,</span>
        <span class="n">DELEGATED_FROM</span><span class="p">,</span>
        <span class="n">DELEGATED_TO</span><span class="p">,</span>
        <span class="n">DIR</span><span class="p">,</span>
        <span class="n">LANGUAGE</span><span class="p">,</span>
        <span class="n">PARTSTAT</span><span class="p">,</span>
        <span class="n">ROLE</span><span class="p">,</span>
        <span class="n">RSVP</span><span class="p">,</span>
        <span class="n">SENT_BY</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">name</span> <span class="o">=</span> <span class="n">CN</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_get_email</span><span class="p">(</span><span class="n">email</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extract email and add mailto: prefix if needed.</span>

<span class="sd">        Handles case-insensitive mailto: prefix checking.</span>

<span class="sd">        Args:</span>
<span class="sd">            email: Email string that may or may not have mailto: prefix</span>

<span class="sd">        Returns:</span>
<span class="sd">            Email string with mailto: prefix</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">email</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;mailto:&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;mailto:</span><span class="si">{</span><span class="n">email</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">email</span>

<div class="viewcode-block" id="vCalAddress.new">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vCalAddress.new">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">email</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">cn</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cutype</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">delegated_from</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">delegated_to</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">partstat</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">role</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">rsvp</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sent_by</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new vCalAddress with RFC 5545 parameters.</span>

<span class="sd">        Creates a vCalAddress instance with automatic mailto: prefix handling</span>
<span class="sd">        and support for all standard RFC 5545 parameters.</span>

<span class="sd">        Args:</span>
<span class="sd">            email: The email address (mailto: prefix added automatically if missing)</span>
<span class="sd">            cn: Common Name parameter</span>
<span class="sd">            cutype: Calendar user type (INDIVIDUAL, GROUP, RESOURCE, ROOM)</span>
<span class="sd">            delegated_from: Email of the calendar user that delegated</span>
<span class="sd">            delegated_to: Email of the calendar user that was delegated to</span>
<span class="sd">            directory: Reference to directory information</span>
<span class="sd">            language: Language for text values</span>
<span class="sd">            partstat: Participation status (NEEDS-ACTION, ACCEPTED, DECLINED, etc.)</span>
<span class="sd">            role: Role (REQ-PARTICIPANT, OPT-PARTICIPANT, NON-PARTICIPANT, CHAIR)</span>
<span class="sd">            rsvp: Whether RSVP is requested</span>
<span class="sd">            sent_by: Email of the calendar user acting on behalf of this user</span>

<span class="sd">        Returns:</span>
<span class="sd">            vCalAddress: A new calendar address with specified parameters</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If email is not a string</span>

<span class="sd">        Examples:</span>
<span class="sd">            Basic usage:</span>

<span class="sd">            &gt;&gt;&gt; from icalendar.prop import vCalAddress</span>
<span class="sd">            &gt;&gt;&gt; addr = vCalAddress.new(&quot;test@test.com&quot;)</span>
<span class="sd">            &gt;&gt;&gt; str(addr)</span>
<span class="sd">            &#39;mailto:test@test.com&#39;</span>

<span class="sd">            With parameters:</span>

<span class="sd">            &gt;&gt;&gt; addr = vCalAddress.new(&quot;test@test.com&quot;, cn=&quot;Test User&quot;, role=&quot;CHAIR&quot;)</span>
<span class="sd">            &gt;&gt;&gt; addr.params[&quot;CN&quot;]</span>
<span class="sd">            &#39;Test User&#39;</span>
<span class="sd">            &gt;&gt;&gt; addr.params[&quot;ROLE&quot;]</span>
<span class="sd">            &#39;CHAIR&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Email must be a string, not </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">email</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Handle mailto: prefix (case-insensitive)</span>
        <span class="n">email_with_prefix</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_email</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>

        <span class="c1"># Create the address</span>
        <span class="n">addr</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">email_with_prefix</span><span class="p">)</span>

        <span class="c1"># Set parameters if provided</span>
        <span class="k">if</span> <span class="n">cn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">addr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;CN&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cn</span>
        <span class="k">if</span> <span class="n">cutype</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">addr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;CUTYPE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cutype</span>
        <span class="k">if</span> <span class="n">delegated_from</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">addr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;DELEGATED-FROM&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_email</span><span class="p">(</span><span class="n">delegated_from</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">delegated_to</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">addr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;DELEGATED-TO&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_email</span><span class="p">(</span><span class="n">delegated_to</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">directory</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">addr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;DIR&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">directory</span>
        <span class="k">if</span> <span class="n">language</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">addr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;LANGUAGE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">language</span>
        <span class="k">if</span> <span class="n">partstat</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">addr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;PARTSTAT&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">partstat</span>
        <span class="k">if</span> <span class="n">role</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">addr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;ROLE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">role</span>
        <span class="k">if</span> <span class="n">rsvp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">addr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;RSVP&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;TRUE&quot;</span> <span class="k">if</span> <span class="n">rsvp</span> <span class="k">else</span> <span class="s2">&quot;FALSE&quot;</span>
        <span class="k">if</span> <span class="n">sent_by</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">addr</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;SENT-BY&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_email</span><span class="p">(</span><span class="n">sent_by</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">addr</span></div>
</div>



<div class="viewcode-block" id="vFloat">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vFloat">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vFloat</span><span class="p">(</span><span class="nb">float</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Float</span>

<span class="sd">    Value Name:</span>
<span class="sd">        FLOAT</span>

<span class="sd">    Purpose:</span>
<span class="sd">        This value type is used to identify properties that contain</span>
<span class="sd">        a real-number value.</span>

<span class="sd">    Format Definition:</span>
<span class="sd">        This value type is defined by the following notation:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            float      = ([&quot;+&quot;] / &quot;-&quot;) 1*DIGIT [&quot;.&quot; 1*DIGIT]</span>

<span class="sd">    Description:</span>
<span class="sd">        If the property permits, multiple &quot;float&quot; values are</span>
<span class="sd">        specified by a COMMA-separated list of values.</span>

<span class="sd">        Example:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            1000000.0000001</span>
<span class="sd">            1.333</span>
<span class="sd">            -3.14</span>

<span class="sd">        .. code-block:: pycon</span>

<span class="sd">            &gt;&gt;&gt; from icalendar.prop import vFloat</span>
<span class="sd">            &gt;&gt;&gt; float = vFloat.from_ical(&#39;1000000.0000001&#39;)</span>
<span class="sd">            &gt;&gt;&gt; float</span>
<span class="sd">            1000000.0000001</span>
<span class="sd">            &gt;&gt;&gt; float = vFloat.from_ical(&#39;1.333&#39;)</span>
<span class="sd">            &gt;&gt;&gt; float</span>
<span class="sd">            1.333</span>
<span class="sd">            &gt;&gt;&gt; float = vFloat.from_ical(&#39;+1.333&#39;)</span>
<span class="sd">            &gt;&gt;&gt; float</span>
<span class="sd">            1.333</span>
<span class="sd">            &gt;&gt;&gt; float = vFloat.from_ical(&#39;-3.14&#39;)</span>
<span class="sd">            &gt;&gt;&gt; float</span>
<span class="sd">            -3.14</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="vFloat.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vFloat.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="vFloat.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vFloat.from_ical">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ical</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected float value, got: </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span></div>
</div>



<div class="viewcode-block" id="vInt">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vInt">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vInt</span><span class="p">(</span><span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Integer</span>

<span class="sd">    Value Name:</span>
<span class="sd">        INTEGER</span>

<span class="sd">    Purpose:</span>
<span class="sd">        This value type is used to identify properties that contain a</span>
<span class="sd">        signed integer value.</span>

<span class="sd">    Format Definition:</span>
<span class="sd">        This value type is defined by the following notation:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            integer    = ([&quot;+&quot;] / &quot;-&quot;) 1*DIGIT</span>

<span class="sd">    Description:</span>
<span class="sd">        If the property permits, multiple &quot;integer&quot; values are</span>
<span class="sd">        specified by a COMMA-separated list of values.  The valid range</span>
<span class="sd">        for &quot;integer&quot; is -2147483648 to 2147483647.  If the sign is not</span>
<span class="sd">        specified, then the value is assumed to be positive.</span>

<span class="sd">        Example:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            1234567890</span>
<span class="sd">            -1234567890</span>
<span class="sd">            +1234567890</span>
<span class="sd">            432109876</span>

<span class="sd">        .. code-block:: pycon</span>

<span class="sd">            &gt;&gt;&gt; from icalendar.prop import vInt</span>
<span class="sd">            &gt;&gt;&gt; integer = vInt.from_ical(&#39;1234567890&#39;)</span>
<span class="sd">            &gt;&gt;&gt; integer</span>
<span class="sd">            1234567890</span>
<span class="sd">            &gt;&gt;&gt; integer = vInt.from_ical(&#39;-1234567890&#39;)</span>
<span class="sd">            &gt;&gt;&gt; integer</span>
<span class="sd">            -1234567890</span>
<span class="sd">            &gt;&gt;&gt; integer = vInt.from_ical(&#39;+1234567890&#39;)</span>
<span class="sd">            &gt;&gt;&gt; integer</span>
<span class="sd">            1234567890</span>
<span class="sd">            &gt;&gt;&gt; integer = vInt.from_ical(&#39;432109876&#39;)</span>
<span class="sd">            &gt;&gt;&gt; integer</span>
<span class="sd">            432109876</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="vInt.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vInt.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="vInt.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vInt.from_ical">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ical</span><span class="p">:</span> <span class="n">ICAL_TYPE</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected int, got: </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span></div>
</div>



<div class="viewcode-block" id="vDDDLists">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vDDDLists">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vDDDLists</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A list of vDDDTypes values.&quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>
    <span class="n">dts</span><span class="p">:</span> <span class="nb">list</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt_list</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">dt_list</span><span class="p">,</span> <span class="s2">&quot;__iter__&quot;</span><span class="p">):</span>
            <span class="n">dt_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">dt_list</span><span class="p">]</span>
        <span class="n">vddd</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">tzid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">dt_l</span> <span class="ow">in</span> <span class="n">dt_list</span><span class="p">:</span>
            <span class="n">dt</span> <span class="o">=</span> <span class="n">vDDDTypes</span><span class="p">(</span><span class="n">dt_l</span><span class="p">)</span>
            <span class="n">vddd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;TZID&quot;</span> <span class="ow">in</span> <span class="n">dt</span><span class="o">.</span><span class="n">params</span><span class="p">:</span>
                <span class="n">tzid</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;TZID&quot;</span><span class="p">]</span>

        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">tzid</span><span class="p">:</span>
            <span class="c1"># NOTE: no support for multiple timezones here!</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;TZID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tzid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dts</span> <span class="o">=</span> <span class="n">vddd</span>

<div class="viewcode-block" id="vDDDLists.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vDDDLists.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">dts_ical</span> <span class="o">=</span> <span class="p">(</span><span class="n">from_unicode</span><span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">to_ical</span><span class="p">())</span> <span class="k">for</span> <span class="n">dt</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dts</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">b</span><span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dts_ical</span><span class="p">)</span></div>


<div class="viewcode-block" id="vDDDLists.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vDDDLists.from_ical">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="n">ical</span><span class="p">,</span> <span class="n">timezone</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">out</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ical_dates</span> <span class="o">=</span> <span class="n">ical</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ical_dt</span> <span class="ow">in</span> <span class="n">ical_dates</span><span class="p">:</span>
            <span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vDDDTypes</span><span class="o">.</span><span class="n">from_ical</span><span class="p">(</span><span class="n">ical_dt</span><span class="p">,</span> <span class="n">timezone</span><span class="o">=</span><span class="n">timezone</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">out</span></div>


    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">vDDDLists</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dts</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">dts</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="p">(</span><span class="n">TimeBase</span><span class="p">,</span> <span class="n">date</span><span class="p">)):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dts</span> <span class="o">==</span> <span class="p">[</span><span class="n">other</span><span class="p">]</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;String representation.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dts</span><span class="si">}</span><span class="s2">)&quot;</span></div>



<div class="viewcode-block" id="vCategory">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vCategory">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vCategory</span><span class="p">:</span>
    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">c_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">c_list</span><span class="p">,</span> <span class="s2">&quot;__iter__&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c_list</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">c_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">c_list</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cats</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">vText</span> <span class="o">|</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">vText</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">c_list</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="n">vCategory</span><span class="o">.</span><span class="n">from_ical</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()))</span>

<div class="viewcode-block" id="vCategory.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vCategory.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">b</span><span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">c</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s2">&quot;to_ical&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="n">vText</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cats</span>
            <span class="p">]</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="vCategory.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vCategory.from_ical">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="n">ical</span><span class="p">):</span>
        <span class="n">ical</span> <span class="o">=</span> <span class="n">to_unicode</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">unescape_char</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span></div>


    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;self == other&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">vCategory</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">cats</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">cats</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;String representation.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cats</span><span class="si">}</span><span class="s2">, params=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="si">}</span><span class="s2">)&quot;</span></div>



<div class="viewcode-block" id="TimeBase">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.TimeBase">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">TimeBase</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Make classes with a datetime/date comparable.&quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>
    <span class="n">ignore_for_equality</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;TZID&quot;</span><span class="p">,</span> <span class="s2">&quot;VALUE&quot;</span><span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;self == other&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">date</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dt</span> <span class="o">==</span> <span class="n">other</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">TimeBase</span><span class="p">):</span>
            <span class="n">default</span> <span class="o">=</span> <span class="nb">object</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span>
                <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">)</span> <span class="o">|</span> <span class="nb">set</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">params</span><span class="p">)</span>
            <span class="p">)</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">ignore_for_equality</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">key</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;x-&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                    <span class="n">key</span><span class="p">,</span> <span class="n">default</span>
                <span class="p">)</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="p">):</span>
                    <span class="k">return</span> <span class="kc">False</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dt</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">dt</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">vDDDLists</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">other</span> <span class="o">==</span> <span class="bp">self</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dt</span><span class="p">)</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">icalendar.param</span><span class="w"> </span><span class="kn">import</span> <span class="n">RANGE</span><span class="p">,</span> <span class="n">RELATED</span><span class="p">,</span> <span class="n">TZID</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;String representation.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dt</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="si">}</span><span class="s2">)&quot;</span></div>



<div class="viewcode-block" id="vDDDTypes">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vDDDTypes">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vDDDTypes</span><span class="p">(</span><span class="n">TimeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A combined Datetime, Date or Duration parser/generator. Their format</span>
<span class="sd">    cannot be confused, and often values can be of either types.</span>
<span class="sd">    So this is practical.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="p">(</span><span class="n">datetime</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="s2">&quot;You must use datetime, date, timedelta, time or tuple (for periods)&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="p">(</span><span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">date</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">({</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;DATE&quot;</span><span class="p">})</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">time</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">({</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;TIME&quot;</span><span class="p">})</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># isinstance(dt, tuple)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">({</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;PERIOD&quot;</span><span class="p">})</span>

        <span class="n">tzid</span> <span class="o">=</span> <span class="n">tzid_from_dt</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="p">(</span><span class="n">datetime</span><span class="p">,</span> <span class="n">time</span><span class="p">))</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">tzid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">tzid</span> <span class="o">!=</span> <span class="s2">&quot;UTC&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;TZID&quot;</span><span class="p">:</span> <span class="n">tzid</span><span class="p">})</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dt</span> <span class="o">=</span> <span class="n">dt</span>

<div class="viewcode-block" id="vDDDTypes.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vDDDTypes.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">dt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dt</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">datetime</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">vDatetime</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">date</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">vDate</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">vDuration</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">time</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">vTime</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">vPeriod</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown date type: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="vDDDTypes.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vDDDTypes.from_ical">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ical</span><span class="p">,</span> <span class="n">timezone</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ical</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">ical</span><span class="o">.</span><span class="n">dt</span>
        <span class="n">u</span> <span class="o">=</span> <span class="n">ical</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">u</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;-P&quot;</span><span class="p">,</span> <span class="s2">&quot;+P&quot;</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">vDuration</span><span class="o">.</span><span class="n">from_ical</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;/&quot;</span> <span class="ow">in</span> <span class="n">u</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">vPeriod</span><span class="o">.</span><span class="n">from_ical</span><span class="p">(</span><span class="n">ical</span><span class="p">,</span> <span class="n">timezone</span><span class="o">=</span><span class="n">timezone</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">vDatetime</span><span class="o">.</span><span class="n">from_ical</span><span class="p">(</span><span class="n">ical</span><span class="p">,</span> <span class="n">timezone</span><span class="o">=</span><span class="n">timezone</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">timezone</span><span class="p">:</span>
                <span class="n">tzinfo</span> <span class="o">=</span> <span class="n">tzp</span><span class="o">.</span><span class="n">timezone</span><span class="p">(</span><span class="n">timezone</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">tzinfo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">to_datetime</span><span class="p">(</span><span class="n">vDate</span><span class="o">.</span><span class="n">from_ical</span><span class="p">(</span><span class="n">ical</span><span class="p">))</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">tzinfo</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">vDate</span><span class="o">.</span><span class="n">from_ical</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">vTime</span><span class="o">.</span><span class="n">from_ical</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected datetime, date, or time. Got: &#39;</span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">td</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">timedelta</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Compatibility property returning ``self.dt``.</span>

<span class="sd">        This class is used to replace different time components.</span>
<span class="sd">        Some of them contain a datetime or date (``.dt``).</span>
<span class="sd">        Some of them contain a timedelta (``.td``).</span>
<span class="sd">        This property allows interoperability.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dt</span></div>



<div class="viewcode-block" id="vDate">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vDate">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vDate</span><span class="p">(</span><span class="n">TimeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Date</span>

<span class="sd">    Value Name:</span>
<span class="sd">        DATE</span>

<span class="sd">    Purpose:</span>
<span class="sd">        This value type is used to identify values that contain a</span>
<span class="sd">        calendar date.</span>

<span class="sd">    Format Definition:</span>
<span class="sd">        This value type is defined by the following notation:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            date               = date-value</span>

<span class="sd">            date-value         = date-fullyear date-month date-mday</span>
<span class="sd">            date-fullyear      = 4DIGIT</span>
<span class="sd">            date-month         = 2DIGIT        ;01-12</span>
<span class="sd">            date-mday          = 2DIGIT        ;01-28, 01-29, 01-30, 01-31</span>
<span class="sd">                                               ;based on month/year</span>

<span class="sd">    Description:</span>
<span class="sd">        If the property permits, multiple &quot;date&quot; values are</span>
<span class="sd">        specified as a COMMA-separated list of values.  The format for the</span>
<span class="sd">        value type is based on the [ISO.8601.2004] complete</span>
<span class="sd">        representation, basic format for a calendar date.  The textual</span>
<span class="sd">        format specifies a four-digit year, two-digit month, and two-digit</span>
<span class="sd">        day of the month.  There are no separator characters between the</span>
<span class="sd">        year, month, and day component text.</span>

<span class="sd">    Example:</span>
<span class="sd">        The following represents July 14, 1997:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            19970714</span>

<span class="sd">        .. code-block:: pycon</span>

<span class="sd">            &gt;&gt;&gt; from icalendar.prop import vDate</span>
<span class="sd">            &gt;&gt;&gt; date = vDate.from_ical(&#39;19970714&#39;)</span>
<span class="sd">            &gt;&gt;&gt; date.year</span>
<span class="sd">            1997</span>
<span class="sd">            &gt;&gt;&gt; date.month</span>
<span class="sd">            7</span>
<span class="sd">            &gt;&gt;&gt; date.day</span>
<span class="sd">            14</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">date</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Value MUST be a date instance&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dt</span> <span class="o">=</span> <span class="n">dt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">({</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;DATE&quot;</span><span class="p">})</span>

<div class="viewcode-block" id="vDate.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vDate.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="si">:</span><span class="s2">04</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span><span class="si">:</span><span class="s2">02</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">day</span><span class="si">:</span><span class="s2">02</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="vDate.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vDate.from_ical">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="n">ical</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">timetuple</span> <span class="o">=</span> <span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ical</span><span class="p">[:</span><span class="mi">4</span><span class="p">]),</span>  <span class="c1"># year</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ical</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">]),</span>  <span class="c1"># month</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ical</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">8</span><span class="p">]),</span>  <span class="c1"># day</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">date</span><span class="p">(</span><span class="o">*</span><span class="n">timetuple</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Wrong date format </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span></div>
</div>



<div class="viewcode-block" id="vDatetime">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vDatetime">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vDatetime</span><span class="p">(</span><span class="n">TimeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Render and generates icalendar datetime format.</span>

<span class="sd">    vDatetime is timezone aware and uses a timezone library.</span>
<span class="sd">    When a vDatetime object is created from an</span>
<span class="sd">    ical string, you can pass a valid timezone identifier. When a</span>
<span class="sd">    vDatetime object is created from a python datetime object, it uses the</span>
<span class="sd">    tzinfo component, if present. Otherwise a timezone-naive object is</span>
<span class="sd">    created. Be aware that there are certain limitations with timezone naive</span>
<span class="sd">    DATE-TIME components in the icalendar standard.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dt</span> <span class="o">=</span> <span class="n">dt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>

<div class="viewcode-block" id="vDatetime.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vDatetime.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">dt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dt</span>
        <span class="n">tzid</span> <span class="o">=</span> <span class="n">tzid_from_dt</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>

        <span class="n">s</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="si">:</span><span class="s2">04</span><span class="si">}{</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span><span class="si">:</span><span class="s2">02</span><span class="si">}{</span><span class="n">dt</span><span class="o">.</span><span class="n">day</span><span class="si">:</span><span class="s2">02</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;T</span><span class="si">{</span><span class="n">dt</span><span class="o">.</span><span class="n">hour</span><span class="si">:</span><span class="s2">02</span><span class="si">}{</span><span class="n">dt</span><span class="o">.</span><span class="n">minute</span><span class="si">:</span><span class="s2">02</span><span class="si">}{</span><span class="n">dt</span><span class="o">.</span><span class="n">second</span><span class="si">:</span><span class="s2">02</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">tzid</span> <span class="o">==</span> <span class="s2">&quot;UTC&quot;</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;Z&quot;</span>
        <span class="k">elif</span> <span class="n">tzid</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;TZID&quot;</span><span class="p">:</span> <span class="n">tzid</span><span class="p">})</span>
        <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="vDatetime.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vDatetime.from_ical">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="n">ical</span><span class="p">,</span> <span class="n">timezone</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a datetime from the RFC string.</span>

<span class="sd">        Format:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            YYYYMMDDTHHMMSS</span>

<span class="sd">        .. code-block:: pycon</span>

<span class="sd">            &gt;&gt;&gt; from icalendar import vDatetime</span>
<span class="sd">            &gt;&gt;&gt; vDatetime.from_ical(&quot;20210302T101500&quot;)</span>
<span class="sd">            datetime.datetime(2021, 3, 2, 10, 15)</span>

<span class="sd">            &gt;&gt;&gt; vDatetime.from_ical(&quot;20210302T101500&quot;, &quot;America/New_York&quot;)</span>
<span class="sd">            datetime.datetime(2021, 3, 2, 10, 15, tzinfo=ZoneInfo(key=&#39;America/New_York&#39;))</span>

<span class="sd">            &gt;&gt;&gt; from zoneinfo import ZoneInfo</span>
<span class="sd">            &gt;&gt;&gt; timezone = ZoneInfo(&quot;Europe/Berlin&quot;)</span>
<span class="sd">            &gt;&gt;&gt; vDatetime.from_ical(&quot;20210302T101500&quot;, timezone)</span>
<span class="sd">            datetime.datetime(2021, 3, 2, 10, 15, tzinfo=ZoneInfo(key=&#39;Europe/Berlin&#39;))</span>
<span class="sd">        &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
        <span class="n">tzinfo</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">timezone</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">tzinfo</span> <span class="o">=</span> <span class="n">tzp</span><span class="o">.</span><span class="n">timezone</span><span class="p">(</span><span class="n">timezone</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">timezone</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">tzinfo</span> <span class="o">=</span> <span class="n">timezone</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">timetuple</span> <span class="o">=</span> <span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ical</span><span class="p">[:</span><span class="mi">4</span><span class="p">]),</span>  <span class="c1"># year</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ical</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">]),</span>  <span class="c1"># month</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ical</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">8</span><span class="p">]),</span>  <span class="c1"># day</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ical</span><span class="p">[</span><span class="mi">9</span><span class="p">:</span><span class="mi">11</span><span class="p">]),</span>  <span class="c1"># hour</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ical</span><span class="p">[</span><span class="mi">11</span><span class="p">:</span><span class="mi">13</span><span class="p">]),</span>  <span class="c1"># minute</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ical</span><span class="p">[</span><span class="mi">13</span><span class="p">:</span><span class="mi">15</span><span class="p">]),</span>  <span class="c1"># second</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">tzinfo</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">tzp</span><span class="o">.</span><span class="n">localize</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="o">*</span><span class="n">timetuple</span><span class="p">),</span> <span class="n">tzinfo</span><span class="p">)</span>  <span class="c1"># noqa: DTZ001</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ical</span><span class="p">[</span><span class="mi">15</span><span class="p">:]:</span>
                <span class="k">return</span> <span class="n">datetime</span><span class="p">(</span><span class="o">*</span><span class="n">timetuple</span><span class="p">)</span>  <span class="c1"># noqa: DTZ001</span>
            <span class="k">if</span> <span class="n">ical</span><span class="p">[</span><span class="mi">15</span><span class="p">:</span><span class="mi">16</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Z&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">tzp</span><span class="o">.</span><span class="n">localize_utc</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="o">*</span><span class="n">timetuple</span><span class="p">))</span>  <span class="c1"># noqa: DTZ001</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Wrong datetime format: </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Wrong datetime format: </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="vDuration">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vDuration">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vDuration</span><span class="p">(</span><span class="n">TimeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Duration</span>

<span class="sd">    Value Name:</span>
<span class="sd">        DURATION</span>

<span class="sd">    Purpose:</span>
<span class="sd">        This value type is used to identify properties that contain</span>
<span class="sd">        a duration of time.</span>

<span class="sd">    Format Definition:</span>
<span class="sd">        This value type is defined by the following notation:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            dur-value  = ([&quot;+&quot;] / &quot;-&quot;) &quot;P&quot; (dur-date / dur-time / dur-week)</span>

<span class="sd">            dur-date   = dur-day [dur-time]</span>
<span class="sd">            dur-time   = &quot;T&quot; (dur-hour / dur-minute / dur-second)</span>
<span class="sd">            dur-week   = 1*DIGIT &quot;W&quot;</span>
<span class="sd">            dur-hour   = 1*DIGIT &quot;H&quot; [dur-minute]</span>
<span class="sd">            dur-minute = 1*DIGIT &quot;M&quot; [dur-second]</span>
<span class="sd">            dur-second = 1*DIGIT &quot;S&quot;</span>
<span class="sd">            dur-day    = 1*DIGIT &quot;D&quot;</span>

<span class="sd">    Description:</span>
<span class="sd">        If the property permits, multiple &quot;duration&quot; values are</span>
<span class="sd">        specified by a COMMA-separated list of values.  The format is</span>
<span class="sd">        based on the [ISO.8601.2004] complete representation basic format</span>
<span class="sd">        with designators for the duration of time.  The format can</span>
<span class="sd">        represent nominal durations (weeks and days) and accurate</span>
<span class="sd">        durations (hours, minutes, and seconds).  Note that unlike</span>
<span class="sd">        [ISO.8601.2004], this value type doesn&#39;t support the &quot;Y&quot; and &quot;M&quot;</span>
<span class="sd">        designators to specify durations in terms of years and months.</span>
<span class="sd">        The duration of a week or a day depends on its position in the</span>
<span class="sd">        calendar.  In the case of discontinuities in the time scale, such</span>
<span class="sd">        as the change from standard time to daylight time and back, the</span>
<span class="sd">        computation of the exact duration requires the subtraction or</span>
<span class="sd">        addition of the change of duration of the discontinuity.  Leap</span>
<span class="sd">        seconds MUST NOT be considered when computing an exact duration.</span>
<span class="sd">        When computing an exact duration, the greatest order time</span>
<span class="sd">        components MUST be added first, that is, the number of days MUST</span>
<span class="sd">        be added first, followed by the number of hours, number of</span>
<span class="sd">        minutes, and number of seconds.</span>

<span class="sd">    Example:</span>
<span class="sd">        A duration of 15 days, 5 hours, and 20 seconds would be:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            P15DT5H0M20S</span>

<span class="sd">        A duration of 7 weeks would be:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            P7W</span>

<span class="sd">        .. code-block:: pycon</span>

<span class="sd">            &gt;&gt;&gt; from icalendar.prop import vDuration</span>
<span class="sd">            &gt;&gt;&gt; duration = vDuration.from_ical(&#39;P15DT5H0M20S&#39;)</span>
<span class="sd">            &gt;&gt;&gt; duration</span>
<span class="sd">            datetime.timedelta(days=15, seconds=18020)</span>
<span class="sd">            &gt;&gt;&gt; duration = vDuration.from_ical(&#39;P7W&#39;)</span>
<span class="sd">            &gt;&gt;&gt; duration</span>
<span class="sd">            datetime.timedelta(days=49)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">td</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">td</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Value MUST be a timedelta instance&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">td</span> <span class="o">=</span> <span class="n">td</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>

<div class="viewcode-block" id="vDuration.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vDuration.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">sign</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">td</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">td</span>
        <span class="k">if</span> <span class="n">td</span><span class="o">.</span><span class="n">days</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">sign</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span>
            <span class="n">td</span> <span class="o">=</span> <span class="o">-</span><span class="n">td</span>
        <span class="n">timepart</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="n">td</span><span class="o">.</span><span class="n">seconds</span><span class="p">:</span>
            <span class="n">timepart</span> <span class="o">=</span> <span class="s2">&quot;T&quot;</span>
            <span class="n">hours</span> <span class="o">=</span> <span class="n">td</span><span class="o">.</span><span class="n">seconds</span> <span class="o">//</span> <span class="mi">3600</span>
            <span class="n">minutes</span> <span class="o">=</span> <span class="n">td</span><span class="o">.</span><span class="n">seconds</span> <span class="o">%</span> <span class="mi">3600</span> <span class="o">//</span> <span class="mi">60</span>
            <span class="n">seconds</span> <span class="o">=</span> <span class="n">td</span><span class="o">.</span><span class="n">seconds</span> <span class="o">%</span> <span class="mi">60</span>
            <span class="k">if</span> <span class="n">hours</span><span class="p">:</span>
                <span class="n">timepart</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">hours</span><span class="si">}</span><span class="s2">H&quot;</span>
            <span class="k">if</span> <span class="n">minutes</span> <span class="ow">or</span> <span class="p">(</span><span class="n">hours</span> <span class="ow">and</span> <span class="n">seconds</span><span class="p">):</span>
                <span class="n">timepart</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">minutes</span><span class="si">}</span><span class="s2">M&quot;</span>
            <span class="k">if</span> <span class="n">seconds</span><span class="p">:</span>
                <span class="n">timepart</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">seconds</span><span class="si">}</span><span class="s2">S&quot;</span>
        <span class="k">if</span> <span class="n">td</span><span class="o">.</span><span class="n">days</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">timepart</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">sign</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="sa">b</span><span class="s2">&quot;P&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">timepart</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">sign</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
            <span class="o">+</span> <span class="sa">b</span><span class="s2">&quot;P&quot;</span>
            <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">td</span><span class="o">.</span><span class="n">days</span><span class="p">))</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
            <span class="o">+</span> <span class="sa">b</span><span class="s2">&quot;D&quot;</span>
            <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">timepart</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="vDuration.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vDuration.from_ical">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="n">ical</span><span class="p">):</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">DURATION_REGEX</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">match</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid iCalendar duration: </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">sign</span><span class="p">,</span> <span class="n">weeks</span><span class="p">,</span> <span class="n">days</span><span class="p">,</span> <span class="n">hours</span><span class="p">,</span> <span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span>
            <span class="n">weeks</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">weeks</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">days</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">days</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">hours</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">hours</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">minutes</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">minutes</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">seconds</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">seconds</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">sign</span> <span class="o">==</span> <span class="s2">&quot;-&quot;</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="o">-</span><span class="n">value</span>

        <span class="k">return</span> <span class="n">value</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">dt</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">timedelta</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The time delta for compatibility.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">td</span></div>



<div class="viewcode-block" id="vPeriod">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vPeriod">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vPeriod</span><span class="p">(</span><span class="n">TimeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Period of Time</span>

<span class="sd">    Value Name:</span>
<span class="sd">        PERIOD</span>

<span class="sd">    Purpose:</span>
<span class="sd">        This value type is used to identify values that contain a</span>
<span class="sd">        precise period of time.</span>

<span class="sd">    Format Definition:</span>
<span class="sd">        This value type is defined by the following notation:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            period     = period-explicit / period-start</span>

<span class="sd">           period-explicit = date-time &quot;/&quot; date-time</span>
<span class="sd">           ; [ISO.8601.2004] complete representation basic format for a</span>
<span class="sd">           ; period of time consisting of a start and end.  The start MUST</span>
<span class="sd">           ; be before the end.</span>

<span class="sd">           period-start = date-time &quot;/&quot; dur-value</span>
<span class="sd">           ; [ISO.8601.2004] complete representation basic format for a</span>
<span class="sd">           ; period of time consisting of a start and positive duration</span>
<span class="sd">           ; of time.</span>

<span class="sd">    Description:</span>
<span class="sd">        If the property permits, multiple &quot;period&quot; values are</span>
<span class="sd">        specified by a COMMA-separated list of values.  There are two</span>
<span class="sd">        forms of a period of time.  First, a period of time is identified</span>
<span class="sd">        by its start and its end.  This format is based on the</span>
<span class="sd">        [ISO.8601.2004] complete representation, basic format for &quot;DATE-</span>
<span class="sd">        TIME&quot; start of the period, followed by a SOLIDUS character</span>
<span class="sd">        followed by the &quot;DATE-TIME&quot; of the end of the period.  The start</span>
<span class="sd">        of the period MUST be before the end of the period.  Second, a</span>
<span class="sd">        period of time can also be defined by a start and a positive</span>
<span class="sd">        duration of time.  The format is based on the [ISO.8601.2004]</span>
<span class="sd">        complete representation, basic format for the &quot;DATE-TIME&quot; start of</span>
<span class="sd">        the period, followed by a SOLIDUS character, followed by the</span>
<span class="sd">        [ISO.8601.2004] basic format for &quot;DURATION&quot; of the period.</span>

<span class="sd">    Example:</span>
<span class="sd">        The period starting at 18:00:00 UTC, on January 1, 1997 and</span>
<span class="sd">        ending at 07:00:00 UTC on January 2, 1997 would be:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            19970101T180000Z/19970102T070000Z</span>

<span class="sd">        The period start at 18:00:00 on January 1, 1997 and lasting 5 hours</span>
<span class="sd">        and 30 minutes would be:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            19970101T180000Z/PT5H30M</span>

<span class="sd">        .. code-block:: pycon</span>

<span class="sd">            &gt;&gt;&gt; from icalendar.prop import vPeriod</span>
<span class="sd">            &gt;&gt;&gt; period = vPeriod.from_ical(&#39;19970101T180000Z/19970102T070000Z&#39;)</span>
<span class="sd">            &gt;&gt;&gt; period = vPeriod.from_ical(&#39;19970101T180000Z/PT5H30M&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">per</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">]]):</span>
        <span class="n">start</span><span class="p">,</span> <span class="n">end_or_duration</span> <span class="o">=</span> <span class="n">per</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="p">(</span><span class="n">datetime</span><span class="p">,</span> <span class="n">date</span><span class="p">))):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Start value MUST be a datetime or date instance&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">end_or_duration</span><span class="p">,</span> <span class="p">(</span><span class="n">datetime</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">))):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="s2">&quot;end_or_duration MUST be a datetime, date or timedelta instance&quot;</span>
            <span class="p">)</span>
        <span class="n">by_duration</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">end_or_duration</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">):</span>
            <span class="n">by_duration</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">duration</span> <span class="o">=</span> <span class="n">end_or_duration</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">duration</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">end_or_duration</span>
            <span class="n">duration</span> <span class="o">=</span> <span class="n">end</span> <span class="o">-</span> <span class="n">start</span>
        <span class="k">if</span> <span class="n">start</span> <span class="o">&gt;</span> <span class="n">end</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Start time is greater than end time&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">({</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;PERIOD&quot;</span><span class="p">})</span>
        <span class="c1"># set the timezone identifier</span>
        <span class="c1"># does not support different timezones for start and end</span>
        <span class="n">tzid</span> <span class="o">=</span> <span class="n">tzid_from_dt</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">tzid</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;TZID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tzid</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">end</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">by_duration</span> <span class="o">=</span> <span class="n">by_duration</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="n">duration</span>

<div class="viewcode-block" id="vPeriod.overlaps">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vPeriod.overlaps">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">overlaps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">start</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">other</span><span class="o">.</span><span class="n">overlaps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">&lt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">start</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span></div>


<div class="viewcode-block" id="vPeriod.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vPeriod.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">by_duration</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">vDatetime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">)</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span>
                <span class="o">+</span> <span class="sa">b</span><span class="s2">&quot;/&quot;</span>
                <span class="o">+</span> <span class="n">vDuration</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">vDatetime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">)</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span> <span class="o">+</span> <span class="sa">b</span><span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="n">vDatetime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">)</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span></div>


<div class="viewcode-block" id="vPeriod.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vPeriod.from_ical">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="n">ical</span><span class="p">,</span> <span class="n">timezone</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">start</span><span class="p">,</span> <span class="n">end_or_duration</span> <span class="o">=</span> <span class="n">ical</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">vDDDTypes</span><span class="o">.</span><span class="n">from_ical</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">timezone</span><span class="o">=</span><span class="n">timezone</span><span class="p">)</span>
            <span class="n">end_or_duration</span> <span class="o">=</span> <span class="n">vDDDTypes</span><span class="o">.</span><span class="n">from_ical</span><span class="p">(</span><span class="n">end_or_duration</span><span class="p">,</span> <span class="n">timezone</span><span class="o">=</span><span class="n">timezone</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected period format, got: </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end_or_duration</span><span class="p">)</span></div>


    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">by_duration</span> <span class="k">else</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;vPeriod(</span><span class="si">{</span><span class="n">p</span><span class="si">!r}</span><span class="s2">)&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">dt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make this cooperate with the other vDDDTypes.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">by_duration</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">))</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">icalendar.param</span><span class="w"> </span><span class="kn">import</span> <span class="n">FBTYPE</span></div>



<div class="viewcode-block" id="vWeekday">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vWeekday">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vWeekday</span><span class="p">(</span><span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Either a ``weekday`` or a ``weekdaynum``</span>

<span class="sd">    .. code-block:: pycon</span>

<span class="sd">        &gt;&gt;&gt; from icalendar import vWeekday</span>
<span class="sd">        &gt;&gt;&gt; vWeekday(&quot;MO&quot;) # Simple weekday</span>
<span class="sd">        &#39;MO&#39;</span>
<span class="sd">        &gt;&gt;&gt; vWeekday(&quot;2FR&quot;).relative # Second friday</span>
<span class="sd">        2</span>
<span class="sd">        &gt;&gt;&gt; vWeekday(&quot;2FR&quot;).weekday</span>
<span class="sd">        &#39;FR&#39;</span>
<span class="sd">        &gt;&gt;&gt; vWeekday(&quot;-1SU&quot;).relative # Last Sunday</span>
<span class="sd">        -1</span>

<span class="sd">    Definition from `RFC 5545, Section 3.3.10 &lt;https://www.rfc-editor.org/rfc/rfc5545#section-3.3.10&gt;`_:</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        weekdaynum = [[plus / minus] ordwk] weekday</span>
<span class="sd">        plus        = &quot;+&quot;</span>
<span class="sd">        minus       = &quot;-&quot;</span>
<span class="sd">        ordwk       = 1*2DIGIT       ;1 to 53</span>
<span class="sd">        weekday     = &quot;SU&quot; / &quot;MO&quot; / &quot;TU&quot; / &quot;WE&quot; / &quot;TH&quot; / &quot;FR&quot; / &quot;SA&quot;</span>
<span class="sd">        ;Corresponding to SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY,</span>
<span class="sd">        ;FRIDAY, and SATURDAY days of the week.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;params&quot;</span><span class="p">,</span> <span class="s2">&quot;relative&quot;</span><span class="p">,</span> <span class="s2">&quot;weekday&quot;</span><span class="p">)</span>

    <span class="n">week_days</span> <span class="o">=</span> <span class="n">CaselessDict</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;SU&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;MO&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;TU&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;WE&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;TH&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s2">&quot;FR&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
            <span class="s2">&quot;SA&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__new__</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">value</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="n">DEFAULT_ENCODING</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">to_unicode</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">)</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">WEEKDAY_RULE</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">match</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected weekday abbrevation, got: </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">groupdict</span><span class="p">()</span>
        <span class="n">sign</span> <span class="o">=</span> <span class="n">match</span><span class="p">[</span><span class="s2">&quot;signal&quot;</span><span class="p">]</span>
        <span class="n">weekday</span> <span class="o">=</span> <span class="n">match</span><span class="p">[</span><span class="s2">&quot;weekday&quot;</span><span class="p">]</span>
        <span class="n">relative</span> <span class="o">=</span> <span class="n">match</span><span class="p">[</span><span class="s2">&quot;relative&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">weekday</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vWeekday</span><span class="o">.</span><span class="n">week_days</span> <span class="ow">or</span> <span class="n">sign</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s2">&quot;+-&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected weekday abbrevation, got: </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weekday</span> <span class="o">=</span> <span class="n">weekday</span> <span class="ow">or</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relative</span> <span class="o">=</span> <span class="p">(</span><span class="n">relative</span> <span class="ow">and</span> <span class="nb">int</span><span class="p">(</span><span class="n">relative</span><span class="p">))</span> <span class="ow">or</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">sign</span> <span class="o">==</span> <span class="s2">&quot;-&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">relative</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">relative</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="vWeekday.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vWeekday.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">DEFAULT_ENCODING</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span></div>


<div class="viewcode-block" id="vWeekday.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vWeekday.from_ical">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ical</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ical</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected weekday abbrevation, got: </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span></div>
</div>



<div class="viewcode-block" id="vFrequency">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vFrequency">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vFrequency</span><span class="p">(</span><span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A simple class that catches illegal values.&quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;params&quot;</span><span class="p">,)</span>

    <span class="n">frequencies</span> <span class="o">=</span> <span class="n">CaselessDict</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;SECONDLY&quot;</span><span class="p">:</span> <span class="s2">&quot;SECONDLY&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MINUTELY&quot;</span><span class="p">:</span> <span class="s2">&quot;MINUTELY&quot;</span><span class="p">,</span>
            <span class="s2">&quot;HOURLY&quot;</span><span class="p">:</span> <span class="s2">&quot;HOURLY&quot;</span><span class="p">,</span>
            <span class="s2">&quot;DAILY&quot;</span><span class="p">:</span> <span class="s2">&quot;DAILY&quot;</span><span class="p">,</span>
            <span class="s2">&quot;WEEKLY&quot;</span><span class="p">:</span> <span class="s2">&quot;WEEKLY&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MONTHLY&quot;</span><span class="p">:</span> <span class="s2">&quot;MONTHLY&quot;</span><span class="p">,</span>
            <span class="s2">&quot;YEARLY&quot;</span><span class="p">:</span> <span class="s2">&quot;YEARLY&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__new__</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">value</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="n">DEFAULT_ENCODING</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">to_unicode</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">)</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vFrequency</span><span class="o">.</span><span class="n">frequencies</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected frequency, got: </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="vFrequency.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vFrequency.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">DEFAULT_ENCODING</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span></div>


<div class="viewcode-block" id="vFrequency.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vFrequency.from_ical">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ical</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ical</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected frequency, got: </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span></div>
</div>



<div class="viewcode-block" id="vMonth">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vMonth">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vMonth</span><span class="p">(</span><span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of the month for recurrence.</span>

<span class="sd">    In :rfc:`5545`, this is just an int.</span>
<span class="sd">    In :rfc:`7529`, this can be followed by `L` to indicate a leap month.</span>

<span class="sd">    .. code-block:: pycon</span>

<span class="sd">        &gt;&gt;&gt; from icalendar import vMonth</span>
<span class="sd">        &gt;&gt;&gt; vMonth(1) # first month January</span>
<span class="sd">        vMonth(&#39;1&#39;)</span>
<span class="sd">        &gt;&gt;&gt; vMonth(&quot;5L&quot;) # leap month in Hebrew calendar</span>
<span class="sd">        vMonth(&#39;5L&#39;)</span>
<span class="sd">        &gt;&gt;&gt; vMonth(1).leap</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; vMonth(&quot;5L&quot;).leap</span>
<span class="sd">        True</span>

<span class="sd">    Definition from RFC:</span>

<span class="sd">    .. code-block:: text</span>

<span class="sd">        type-bymonth = element bymonth {</span>
<span class="sd">           xsd:positiveInteger |</span>
<span class="sd">           xsd:string</span>
<span class="sd">        }</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__new__</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">month</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="o">/</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">month</span><span class="p">,</span> <span class="n">vMonth</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">month</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">month</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">month</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                <span class="n">month_index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">month</span><span class="p">)</span>
                <span class="n">leap</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">month</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;L&quot;</span> <span class="ow">and</span> <span class="n">month</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid month: </span><span class="si">{</span><span class="n">month</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">month_index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">month</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                <span class="n">leap</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">leap</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">month_index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">month</span><span class="p">)</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">month_index</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">leap</span> <span class="o">=</span> <span class="n">leap</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="vMonth.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vMonth.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The ical representation.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="vMonth.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vMonth.from_ical">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ical</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">leap</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Whether this is a leap month.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_leap</span>

    <span class="nd">@leap</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">leap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_leap</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;repr(self)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">!r}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;str(self)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}{</span><span class="s1">&#39;L&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">leap</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span></div>



<div class="viewcode-block" id="vSkip">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vSkip">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vSkip</span><span class="p">(</span><span class="n">vText</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Skip values for RRULE.</span>

<span class="sd">    These are defined in :rfc:`7529`.</span>

<span class="sd">    OMIT  is the default value.</span>

<span class="sd">    Examples:</span>

<span class="sd">    .. code-block:: pycon</span>

<span class="sd">        &gt;&gt;&gt; from icalendar import vSkip</span>
<span class="sd">        &gt;&gt;&gt; vSkip.OMIT</span>
<span class="sd">        vSkip(&#39;OMIT&#39;)</span>
<span class="sd">        &gt;&gt;&gt; vSkip.FORWARD</span>
<span class="sd">        vSkip(&#39;FORWARD&#39;)</span>
<span class="sd">        &gt;&gt;&gt; vSkip.BACKWARD</span>
<span class="sd">        vSkip(&#39;BACKWARD&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">OMIT</span> <span class="o">=</span> <span class="s2">&quot;OMIT&quot;</span>
    <span class="n">FORWARD</span> <span class="o">=</span> <span class="s2">&quot;FORWARD&quot;</span>
    <span class="n">BACKWARD</span> <span class="o">=</span> <span class="s2">&quot;BACKWARD&quot;</span>

    <span class="n">__reduce_ex__</span> <span class="o">=</span> <span class="n">Enum</span><span class="o">.</span><span class="n">__reduce_ex__</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_name_</span><span class="si">!r}</span><span class="s2">)&quot;</span></div>



<div class="viewcode-block" id="vRecur">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vRecur">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vRecur</span><span class="p">(</span><span class="n">CaselessDict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Recurrence definition.</span>

<span class="sd">    Property Name:</span>
<span class="sd">        RRULE</span>

<span class="sd">    Purpose:</span>
<span class="sd">        This property defines a rule or repeating pattern for recurring events, to-dos,</span>
<span class="sd">        journal entries, or time zone definitions.</span>

<span class="sd">    Value Type:</span>
<span class="sd">        RECUR</span>

<span class="sd">    Property Parameters:</span>
<span class="sd">        IANA and non-standard property parameters can be specified on this property.</span>

<span class="sd">    Conformance:</span>
<span class="sd">        This property can be specified in recurring &quot;VEVENT&quot;, &quot;VTODO&quot;, and &quot;VJOURNAL&quot;</span>
<span class="sd">        calendar components as well as in the &quot;STANDARD&quot; and &quot;DAYLIGHT&quot; sub-components</span>
<span class="sd">        of the &quot;VTIMEZONE&quot; calendar component, but it SHOULD NOT be specified more than once.</span>
<span class="sd">        The recurrence set generated with multiple &quot;RRULE&quot; properties is undefined.</span>

<span class="sd">    Description:</span>
<span class="sd">        The recurrence rule, if specified, is used in computing the recurrence set.</span>
<span class="sd">        The recurrence set is the complete set of recurrence instances for a calendar component.</span>
<span class="sd">        The recurrence set is generated by considering the initial &quot;DTSTART&quot; property along</span>
<span class="sd">        with the &quot;RRULE&quot;, &quot;RDATE&quot;, and &quot;EXDATE&quot; properties contained within the</span>
<span class="sd">        recurring component. The &quot;DTSTART&quot; property defines the first instance in the</span>
<span class="sd">        recurrence set. The &quot;DTSTART&quot; property value SHOULD be synchronized with the</span>
<span class="sd">        recurrence rule, if specified. The recurrence set generated with a &quot;DTSTART&quot; property</span>
<span class="sd">        value not synchronized with the recurrence rule is undefined.</span>
<span class="sd">        The final recurrence set is generated by gathering all of the start DATE-TIME</span>
<span class="sd">        values generated by any of the specified &quot;RRULE&quot; and &quot;RDATE&quot; properties, and then</span>
<span class="sd">        excluding any start DATE-TIME values specified by &quot;EXDATE&quot; properties.</span>
<span class="sd">        This implies that start DATE- TIME values specified by &quot;EXDATE&quot; properties take</span>
<span class="sd">        precedence over those specified by inclusion properties (i.e., &quot;RDATE&quot; and &quot;RRULE&quot;).</span>
<span class="sd">        Where duplicate instances are generated by the &quot;RRULE&quot; and &quot;RDATE&quot; properties,</span>
<span class="sd">        only one recurrence is considered. Duplicate instances are ignored.</span>

<span class="sd">        The &quot;DTSTART&quot; property specified within the iCalendar object defines the first</span>
<span class="sd">        instance of the recurrence. In most cases, a &quot;DTSTART&quot; property of DATE-TIME value</span>
<span class="sd">        type used with a recurrence rule, should be specified as a date with local time</span>
<span class="sd">        and time zone reference to make sure all the recurrence instances start at the</span>
<span class="sd">        same local time regardless of time zone changes.</span>

<span class="sd">        If the duration of the recurring component is specified with the &quot;DTEND&quot; or</span>
<span class="sd">        &quot;DUE&quot; property, then the same exact duration will apply to all the members of the</span>
<span class="sd">        generated recurrence set. Else, if the duration of the recurring component is</span>
<span class="sd">        specified with the &quot;DURATION&quot; property, then the same nominal duration will apply</span>
<span class="sd">        to all the members of the generated recurrence set and the exact duration of each</span>
<span class="sd">        recurrence instance will depend on its specific start time. For example, recurrence</span>
<span class="sd">        instances of a nominal duration of one day will have an exact duration of more or less</span>
<span class="sd">        than 24 hours on a day where a time zone shift occurs. The duration of a specific</span>
<span class="sd">        recurrence may be modified in an exception component or simply by using an</span>
<span class="sd">        &quot;RDATE&quot; property of PERIOD value type.</span>

<span class="sd">    Examples:</span>
<span class="sd">        The following RRULE specifies daily events for 10 occurrences.</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            RRULE:FREQ=DAILY;COUNT=10</span>

<span class="sd">        Below, we parse the RRULE ical string.</span>

<span class="sd">        .. code-block:: pycon</span>

<span class="sd">            &gt;&gt;&gt; from icalendar.prop import vRecur</span>
<span class="sd">            &gt;&gt;&gt; rrule = vRecur.from_ical(&#39;FREQ=DAILY;COUNT=10&#39;)</span>
<span class="sd">            &gt;&gt;&gt; rrule</span>
<span class="sd">            vRecur({&#39;FREQ&#39;: [&#39;DAILY&#39;], &#39;COUNT&#39;: [10]})</span>

<span class="sd">        You can choose to add an rrule to an :class:`icalendar.cal.Event` or</span>
<span class="sd">        :class:`icalendar.cal.Todo`.</span>

<span class="sd">        .. code-block:: pycon</span>

<span class="sd">            &gt;&gt;&gt; from icalendar import Event</span>
<span class="sd">            &gt;&gt;&gt; event = Event()</span>
<span class="sd">            &gt;&gt;&gt; event.add(&#39;RRULE&#39;, &#39;FREQ=DAILY;COUNT=10&#39;)</span>
<span class="sd">            &gt;&gt;&gt; event.rrules</span>
<span class="sd">            [vRecur({&#39;FREQ&#39;: [&#39;DAILY&#39;], &#39;COUNT&#39;: [10]})]</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>

    <span class="n">frequencies</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;SECONDLY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;MINUTELY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;HOURLY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;DAILY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;WEEKLY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;MONTHLY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;YEARLY&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="c1"># Mac iCal ignores RRULEs where FREQ is not the first rule part.</span>
    <span class="c1"># Sorts parts according to the order listed in RFC 5545, section 3.3.10.</span>
    <span class="n">canonical_order</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;RSCALE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;FREQ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;UNTIL&quot;</span><span class="p">,</span>
        <span class="s2">&quot;COUNT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;INTERVAL&quot;</span><span class="p">,</span>
        <span class="s2">&quot;BYSECOND&quot;</span><span class="p">,</span>
        <span class="s2">&quot;BYMINUTE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;BYHOUR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;BYDAY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;BYWEEKDAY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;BYMONTHDAY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;BYYEARDAY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;BYWEEKNO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;BYMONTH&quot;</span><span class="p">,</span>
        <span class="s2">&quot;BYSETPOS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;WKST&quot;</span><span class="p">,</span>
        <span class="s2">&quot;SKIP&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">types</span> <span class="o">=</span> <span class="n">CaselessDict</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;COUNT&quot;</span><span class="p">:</span> <span class="n">vInt</span><span class="p">,</span>
            <span class="s2">&quot;INTERVAL&quot;</span><span class="p">:</span> <span class="n">vInt</span><span class="p">,</span>
            <span class="s2">&quot;BYSECOND&quot;</span><span class="p">:</span> <span class="n">vInt</span><span class="p">,</span>
            <span class="s2">&quot;BYMINUTE&quot;</span><span class="p">:</span> <span class="n">vInt</span><span class="p">,</span>
            <span class="s2">&quot;BYHOUR&quot;</span><span class="p">:</span> <span class="n">vInt</span><span class="p">,</span>
            <span class="s2">&quot;BYWEEKNO&quot;</span><span class="p">:</span> <span class="n">vInt</span><span class="p">,</span>
            <span class="s2">&quot;BYMONTHDAY&quot;</span><span class="p">:</span> <span class="n">vInt</span><span class="p">,</span>
            <span class="s2">&quot;BYYEARDAY&quot;</span><span class="p">:</span> <span class="n">vInt</span><span class="p">,</span>
            <span class="s2">&quot;BYMONTH&quot;</span><span class="p">:</span> <span class="n">vMonth</span><span class="p">,</span>
            <span class="s2">&quot;UNTIL&quot;</span><span class="p">:</span> <span class="n">vDDDTypes</span><span class="p">,</span>
            <span class="s2">&quot;BYSETPOS&quot;</span><span class="p">:</span> <span class="n">vInt</span><span class="p">,</span>
            <span class="s2">&quot;WKST&quot;</span><span class="p">:</span> <span class="n">vWeekday</span><span class="p">,</span>
            <span class="s2">&quot;BYDAY&quot;</span><span class="p">:</span> <span class="n">vWeekday</span><span class="p">,</span>
            <span class="s2">&quot;FREQ&quot;</span><span class="p">:</span> <span class="n">vFrequency</span><span class="p">,</span>
            <span class="s2">&quot;BYWEEKDAY&quot;</span><span class="p">:</span> <span class="n">vWeekday</span><span class="p">,</span>
            <span class="s2">&quot;SKIP&quot;</span><span class="p">:</span> <span class="n">vSkip</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">args</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
            <span class="c1"># we have a string as an argument.</span>
            <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">from_ical</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]),)</span> <span class="o">+</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">SEQUENCE_TYPES</span><span class="p">):</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="p">]</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>

<div class="viewcode-block" id="vRecur.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vRecur.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">vals</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sorted_items</span><span class="p">():</span>
            <span class="n">typ</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">vText</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">vals</span><span class="p">,</span> <span class="n">SEQUENCE_TYPES</span><span class="p">):</span>
                <span class="n">vals</span> <span class="o">=</span> <span class="p">[</span><span class="n">vals</span><span class="p">]</span>  <span class="c1"># noqa: PLW2901</span>
            <span class="n">param_vals</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">typ</span><span class="p">(</span><span class="n">val</span><span class="p">)</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">vals</span><span class="p">)</span>

            <span class="c1"># CaselessDict keys are always unicode</span>
            <span class="n">param_key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">DEFAULT_ENCODING</span><span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">param_key</span> <span class="o">+</span> <span class="sa">b</span><span class="s2">&quot;=&quot;</span> <span class="o">+</span> <span class="n">param_vals</span><span class="p">)</span>

        <span class="k">return</span> <span class="sa">b</span><span class="s2">&quot;;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">result</span><span class="p">)</span></div>


<div class="viewcode-block" id="vRecur.parse_type">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vRecur.parse_type">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">parse_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="c1"># integers</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">vText</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">parser</span><span class="o">.</span><span class="n">from_ical</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span></div>


<div class="viewcode-block" id="vRecur.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vRecur.from_ical">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ical</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ical</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">ical</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">recur</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">pairs</span> <span class="ow">in</span> <span class="n">ical</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">key</span><span class="p">,</span> <span class="n">vals</span> <span class="o">=</span> <span class="n">pairs</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="c1"># E.g. incorrect trailing semicolon, like (issue #157):</span>
                    <span class="c1"># FREQ=YEARLY;BYMONTH=11;BYDAY=1SU;</span>
                    <span class="k">continue</span>
                <span class="n">recur</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_type</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">vals</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">recur</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error in recurrence rule: </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span></div>
</div>



<div class="viewcode-block" id="vTime">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vTime">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vTime</span><span class="p">(</span><span class="n">TimeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Time</span>

<span class="sd">    Value Name:</span>
<span class="sd">        TIME</span>

<span class="sd">    Purpose:</span>
<span class="sd">        This value type is used to identify values that contain a</span>
<span class="sd">        time of day.</span>

<span class="sd">    Format Definition:</span>
<span class="sd">        This value type is defined by the following notation:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            time         = time-hour time-minute time-second [time-utc]</span>

<span class="sd">            time-hour    = 2DIGIT        ;00-23</span>
<span class="sd">            time-minute  = 2DIGIT        ;00-59</span>
<span class="sd">            time-second  = 2DIGIT        ;00-60</span>
<span class="sd">            ;The &quot;60&quot; value is used to account for positive &quot;leap&quot; seconds.</span>

<span class="sd">            time-utc     = &quot;Z&quot;</span>

<span class="sd">    Description:</span>
<span class="sd">        If the property permits, multiple &quot;time&quot; values are</span>
<span class="sd">        specified by a COMMA-separated list of values.  No additional</span>
<span class="sd">        content value encoding (i.e., BACKSLASH character encoding, see</span>
<span class="sd">        vText) is defined for this value type.</span>

<span class="sd">        The &quot;TIME&quot; value type is used to identify values that contain a</span>
<span class="sd">        time of day.  The format is based on the [ISO.8601.2004] complete</span>
<span class="sd">        representation, basic format for a time of day.  The text format</span>
<span class="sd">        consists of a two-digit, 24-hour of the day (i.e., values 00-23),</span>
<span class="sd">        two-digit minute in the hour (i.e., values 00-59), and two-digit</span>
<span class="sd">        seconds in the minute (i.e., values 00-60).  The seconds value of</span>
<span class="sd">        60 MUST only be used to account for positive &quot;leap&quot; seconds.</span>
<span class="sd">        Fractions of a second are not supported by this format.</span>

<span class="sd">        In parallel to the &quot;DATE-TIME&quot; definition above, the &quot;TIME&quot; value</span>
<span class="sd">        type expresses time values in three forms:</span>

<span class="sd">        The form of time with UTC offset MUST NOT be used.  For example,</span>
<span class="sd">        the following is not valid for a time value:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            230000-0800        ;Invalid time format</span>

<span class="sd">        **FORM #1 LOCAL TIME**</span>

<span class="sd">        The local time form is simply a time value that does not contain</span>
<span class="sd">        the UTC designator nor does it reference a time zone.  For</span>
<span class="sd">        example, 11:00 PM:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            230000</span>

<span class="sd">        Time values of this type are said to be &quot;floating&quot; and are not</span>
<span class="sd">        bound to any time zone in particular.  They are used to represent</span>
<span class="sd">        the same hour, minute, and second value regardless of which time</span>
<span class="sd">        zone is currently being observed.  For example, an event can be</span>
<span class="sd">        defined that indicates that an individual will be busy from 11:00</span>
<span class="sd">        AM to 1:00 PM every day, no matter which time zone the person is</span>
<span class="sd">        in.  In these cases, a local time can be specified.  The recipient</span>
<span class="sd">        of an iCalendar object with a property value consisting of a local</span>
<span class="sd">        time, without any relative time zone information, SHOULD interpret</span>
<span class="sd">        the value as being fixed to whatever time zone the &quot;ATTENDEE&quot; is</span>
<span class="sd">        in at any given moment.  This means that two &quot;Attendees&quot;, may</span>
<span class="sd">        participate in the same event at different UTC times; floating</span>
<span class="sd">        time SHOULD only be used where that is reasonable behavior.</span>

<span class="sd">        In most cases, a fixed time is desired.  To properly communicate a</span>
<span class="sd">        fixed time in a property value, either UTC time or local time with</span>
<span class="sd">        time zone reference MUST be specified.</span>

<span class="sd">        The use of local time in a TIME value without the &quot;TZID&quot; property</span>
<span class="sd">        parameter is to be interpreted as floating time, regardless of the</span>
<span class="sd">        existence of &quot;VTIMEZONE&quot; calendar components in the iCalendar</span>
<span class="sd">        object.</span>

<span class="sd">        **FORM #2: UTC TIME**</span>

<span class="sd">        UTC time, or absolute time, is identified by a LATIN CAPITAL</span>
<span class="sd">        LETTER Z suffix character, the UTC designator, appended to the</span>
<span class="sd">        time value.  For example, the following represents 07:00 AM UTC:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            070000Z</span>

<span class="sd">        The &quot;TZID&quot; property parameter MUST NOT be applied to TIME</span>
<span class="sd">        properties whose time values are specified in UTC.</span>

<span class="sd">        **FORM #3: LOCAL TIME AND TIME ZONE REFERENCE**</span>

<span class="sd">        The local time with reference to time zone information form is</span>
<span class="sd">        identified by the use the &quot;TZID&quot; property parameter to reference</span>
<span class="sd">        the appropriate time zone definition.</span>

<span class="sd">        Example:</span>
<span class="sd">            The following represents 8:30 AM in New York in winter,</span>
<span class="sd">            five hours behind UTC, in each of the three formats:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            083000</span>
<span class="sd">            133000Z</span>
<span class="sd">            TZID=America/New_York:083000</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">datetime</span><span class="p">)):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected a datetime.time, got: </span><span class="si">{</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dt</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dt</span> <span class="o">=</span> <span class="n">time</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">({</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;TIME&quot;</span><span class="p">})</span>

<div class="viewcode-block" id="vTime.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vTime.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%H%M%S&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="vTime.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vTime.from_ical">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="n">ical</span><span class="p">):</span>
        <span class="c1"># TODO: timezone support</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">timetuple</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">ical</span><span class="p">[:</span><span class="mi">2</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">ical</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">ical</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">]))</span>
            <span class="k">return</span> <span class="n">time</span><span class="p">(</span><span class="o">*</span><span class="n">timetuple</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected time, got: </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span></div>
</div>



<div class="viewcode-block" id="vUri">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vUri">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vUri</span><span class="p">(</span><span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;URI</span>

<span class="sd">    Value Name:</span>
<span class="sd">        URI</span>

<span class="sd">    Purpose:</span>
<span class="sd">        This value type is used to identify values that contain a</span>
<span class="sd">        uniform resource identifier (URI) type of reference to the</span>
<span class="sd">        property value.</span>

<span class="sd">    Format Definition:</span>
<span class="sd">        This value type is defined by the following notation:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            uri = scheme &quot;:&quot; hier-part [ &quot;?&quot; query ] [ &quot;#&quot; fragment ]</span>

<span class="sd">    Description:</span>
<span class="sd">        This value type might be used to reference binary</span>
<span class="sd">        information, for values that are large, or otherwise undesirable</span>
<span class="sd">        to include directly in the iCalendar object.</span>

<span class="sd">        Property values with this value type MUST follow the generic URI</span>
<span class="sd">        syntax defined in [RFC3986].</span>

<span class="sd">        When a property parameter value is a URI value type, the URI MUST</span>
<span class="sd">        be specified as a quoted-string value.</span>

<span class="sd">        Example:</span>
<span class="sd">            The following is a URI for a network file:</span>

<span class="sd">            .. code-block:: text</span>

<span class="sd">                http://example.com/my-report.txt</span>

<span class="sd">            .. code-block:: pycon</span>

<span class="sd">                &gt;&gt;&gt; from icalendar.prop import vUri</span>
<span class="sd">                &gt;&gt;&gt; uri = vUri.from_ical(&#39;http://example.com/my-report.txt&#39;)</span>
<span class="sd">                &gt;&gt;&gt; uri</span>
<span class="sd">                &#39;http://example.com/my-report.txt&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;params&quot;</span><span class="p">,)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__new__</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_ENCODING</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">to_unicode</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">)</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="vUri.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vUri.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">DEFAULT_ENCODING</span><span class="p">)</span></div>


<div class="viewcode-block" id="vUri.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vUri.from_ical">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ical</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected , got: </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span></div>
</div>



<div class="viewcode-block" id="vGeo">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vGeo">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vGeo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Geographic Position</span>

<span class="sd">    Property Name:</span>
<span class="sd">        GEO</span>

<span class="sd">    Purpose:</span>
<span class="sd">        This property specifies information related to the global</span>
<span class="sd">        position for the activity specified by a calendar component.</span>

<span class="sd">    Value Type:</span>
<span class="sd">        FLOAT.  The value MUST be two SEMICOLON-separated FLOAT values.</span>

<span class="sd">    Property Parameters:</span>
<span class="sd">        IANA and non-standard property parameters can be specified on</span>
<span class="sd">        this property.</span>

<span class="sd">    Conformance:</span>
<span class="sd">        This property can be specified in &quot;VEVENT&quot; or &quot;VTODO&quot;</span>
<span class="sd">        calendar components.</span>

<span class="sd">    Description:</span>
<span class="sd">        This property value specifies latitude and longitude,</span>
<span class="sd">        in that order (i.e., &quot;LAT LON&quot; ordering).  The longitude</span>
<span class="sd">        represents the location east or west of the prime meridian as a</span>
<span class="sd">        positive or negative real number, respectively.  The longitude and</span>
<span class="sd">        latitude values MAY be specified up to six decimal places, which</span>
<span class="sd">        will allow for accuracy to within one meter of geographical</span>
<span class="sd">        position.  Receiving applications MUST accept values of this</span>
<span class="sd">        precision and MAY truncate values of greater precision.</span>

<span class="sd">        Example:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            GEO:37.386013;-122.082932</span>

<span class="sd">        Parse vGeo:</span>

<span class="sd">        .. code-block:: pycon</span>

<span class="sd">            &gt;&gt;&gt; from icalendar.prop import vGeo</span>
<span class="sd">            &gt;&gt;&gt; geo = vGeo.from_ical(&#39;37.386013;-122.082932&#39;)</span>
<span class="sd">            &gt;&gt;&gt; geo</span>
<span class="sd">            (37.386013, -122.082932)</span>

<span class="sd">        Add a geo location to an event:</span>

<span class="sd">        .. code-block:: pycon</span>

<span class="sd">            &gt;&gt;&gt; from icalendar import Event</span>
<span class="sd">            &gt;&gt;&gt; event = Event()</span>
<span class="sd">            &gt;&gt;&gt; latitude = 37.386013</span>
<span class="sd">            &gt;&gt;&gt; longitude = -122.082932</span>
<span class="sd">            &gt;&gt;&gt; event.add(&#39;GEO&#39;, (latitude, longitude))</span>
<span class="sd">            &gt;&gt;&gt; event[&#39;GEO&#39;]</span>
<span class="sd">            vGeo((37.386013, -122.082932))</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">geo</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">],</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new vGeo from a tuple of (latitude, longitude).</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if geo is not a tuple of (latitude, longitude)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span> <span class="o">=</span> <span class="p">(</span><span class="n">geo</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">geo</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">latitude</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">latitude</span><span class="p">)</span>
            <span class="n">longitude</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">longitude</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Input must be (float, float) for latitude and longitude&quot;</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">latitude</span> <span class="o">=</span> <span class="n">latitude</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">longitude</span> <span class="o">=</span> <span class="n">longitude</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>

<div class="viewcode-block" id="vGeo.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vGeo.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">latitude</span><span class="si">}</span><span class="s2">;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">longitude</span><span class="si">}</span><span class="s2">&quot;</span></div>


<div class="viewcode-block" id="vGeo.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vGeo.from_ical">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="n">ical</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span> <span class="o">=</span> <span class="n">ical</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">latitude</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">longitude</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected &#39;float;float&#39; , got: </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span></div>


    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;repr(self)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">((</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">latitude</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">longitude</span><span class="si">}</span><span class="s2">))&quot;</span></div>



<div class="viewcode-block" id="vUTCOffset">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vUTCOffset">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vUTCOffset</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;UTC Offset</span>

<span class="sd">    Value Name:</span>
<span class="sd">        UTC-OFFSET</span>

<span class="sd">    Purpose:</span>
<span class="sd">        This value type is used to identify properties that contain</span>
<span class="sd">        an offset from UTC to local time.</span>

<span class="sd">    Format Definition:</span>
<span class="sd">        This value type is defined by the following notation:</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            utc-offset = time-numzone</span>

<span class="sd">            time-numzone = (&quot;+&quot; / &quot;-&quot;) time-hour time-minute [time-second]</span>

<span class="sd">    Description:</span>
<span class="sd">        The PLUS SIGN character MUST be specified for positive</span>
<span class="sd">        UTC offsets (i.e., ahead of UTC).  The HYPHEN-MINUS character MUST</span>
<span class="sd">        be specified for negative UTC offsets (i.e., behind of UTC).  The</span>
<span class="sd">        value of &quot;-0000&quot; and &quot;-000000&quot; are not allowed.  The time-second,</span>
<span class="sd">        if present, MUST NOT be 60; if absent, it defaults to zero.</span>

<span class="sd">        Example:</span>
<span class="sd">            The following UTC offsets are given for standard time for</span>
<span class="sd">            New York (five hours behind UTC) and Geneva (one hour ahead of</span>
<span class="sd">            UTC):</span>

<span class="sd">        .. code-block:: text</span>

<span class="sd">            -0500</span>

<span class="sd">            +0100</span>

<span class="sd">        .. code-block:: pycon</span>

<span class="sd">            &gt;&gt;&gt; from icalendar.prop import vUTCOffset</span>
<span class="sd">            &gt;&gt;&gt; utc_offset = vUTCOffset.from_ical(&#39;-0500&#39;)</span>
<span class="sd">            &gt;&gt;&gt; utc_offset</span>
<span class="sd">            datetime.timedelta(days=-1, seconds=68400)</span>
<span class="sd">            &gt;&gt;&gt; utc_offset = vUTCOffset.from_ical(&#39;+0100&#39;)</span>
<span class="sd">            &gt;&gt;&gt; utc_offset</span>
<span class="sd">            datetime.timedelta(seconds=3600)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>

    <span class="n">ignore_exceptions</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># if True, and we cannot parse this</span>

    <span class="c1"># component, we will silently ignore</span>
    <span class="c1"># it, rather than let the exception</span>
    <span class="c1"># propagate upwards</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">td</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">td</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Offset value MUST be a timedelta instance&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">td</span> <span class="o">=</span> <span class="n">td</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>

<div class="viewcode-block" id="vUTCOffset.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vUTCOffset.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">td</span> <span class="o">&lt;</span> <span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">):</span>
            <span class="n">sign</span> <span class="o">=</span> <span class="s2">&quot;-</span><span class="si">%s</span><span class="s2">&quot;</span>
            <span class="n">td</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">td</span>  <span class="c1"># get timedelta relative to 0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Google Calendar rejects &#39;0000&#39; but accepts &#39;+0000&#39;</span>
            <span class="n">sign</span> <span class="o">=</span> <span class="s2">&quot;+</span><span class="si">%s</span><span class="s2">&quot;</span>
            <span class="n">td</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">td</span>

        <span class="n">days</span><span class="p">,</span> <span class="n">seconds</span> <span class="o">=</span> <span class="n">td</span><span class="o">.</span><span class="n">days</span><span class="p">,</span> <span class="n">td</span><span class="o">.</span><span class="n">seconds</span>

        <span class="n">hours</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">days</span> <span class="o">*</span> <span class="mi">24</span> <span class="o">+</span> <span class="n">seconds</span> <span class="o">//</span> <span class="mi">3600</span><span class="p">)</span>
        <span class="n">minutes</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">((</span><span class="n">seconds</span> <span class="o">%</span> <span class="mi">3600</span><span class="p">)</span> <span class="o">//</span> <span class="mi">60</span><span class="p">)</span>
        <span class="n">seconds</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">seconds</span> <span class="o">%</span> <span class="mi">60</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">seconds</span><span class="p">:</span>
            <span class="n">duration</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">hours</span><span class="si">:</span><span class="s2">02</span><span class="si">}{</span><span class="n">minutes</span><span class="si">:</span><span class="s2">02</span><span class="si">}{</span><span class="n">seconds</span><span class="si">:</span><span class="s2">02</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">duration</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">hours</span><span class="si">:</span><span class="s2">02</span><span class="si">}{</span><span class="n">minutes</span><span class="si">:</span><span class="s2">02</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">sign</span> <span class="o">%</span> <span class="n">duration</span></div>


<div class="viewcode-block" id="vUTCOffset.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vUTCOffset.from_ical">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ical</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ical</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">ical</span><span class="o">.</span><span class="n">td</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sign</span><span class="p">,</span> <span class="n">hours</span><span class="p">,</span> <span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">ical</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">],</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ical</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]),</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ical</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">5</span><span class="p">]),</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ical</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">7</span><span class="p">]</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="n">offset</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="n">hours</span><span class="p">,</span> <span class="n">minutes</span><span class="o">=</span><span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span><span class="o">=</span><span class="n">seconds</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected utc offset, got: </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">ignore_exceptions</span> <span class="ow">and</span> <span class="n">offset</span> <span class="o">&gt;=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">24</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Offset must be less than 24 hours, was </span><span class="si">{</span><span class="n">ical</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sign</span> <span class="o">==</span> <span class="s2">&quot;-&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="n">offset</span>
        <span class="k">return</span> <span class="n">offset</span></div>


    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">vUTCOffset</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">td</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">td</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">td</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;vUTCOffset(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">td</span><span class="si">!r}</span><span class="s2">)&quot;</span></div>



<div class="viewcode-block" id="vInline">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vInline">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">vInline</span><span class="p">(</span><span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This is an especially dumb class that just holds raw unparsed text and</span>
<span class="sd">    has parameters. Conversion of inline values are handled by the Component</span>
<span class="sd">    class, so no further processing is needed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">params</span><span class="p">:</span> <span class="n">Parameters</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;params&quot;</span><span class="p">,)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__new__</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">value</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="n">DEFAULT_ENCODING</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">to_unicode</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">)</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="vInline.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vInline.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">DEFAULT_ENCODING</span><span class="p">)</span></div>


<div class="viewcode-block" id="vInline.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.vInline.from_ical">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ical</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ical</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="TypesFactory">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.TypesFactory">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">TypesFactory</span><span class="p">(</span><span class="n">CaselessDict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;All Value types defined in RFC 5545 are registered in this factory</span>
<span class="sd">    class.</span>

<span class="sd">    The value and parameter names don&#39;t overlap. So one factory is enough for</span>
<span class="sd">    both kinds.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set keys to upper for initial dict&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">all_types</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">vBinary</span><span class="p">,</span>
            <span class="n">vBoolean</span><span class="p">,</span>
            <span class="n">vCalAddress</span><span class="p">,</span>
            <span class="n">vDDDLists</span><span class="p">,</span>
            <span class="n">vDDDTypes</span><span class="p">,</span>
            <span class="n">vDate</span><span class="p">,</span>
            <span class="n">vDatetime</span><span class="p">,</span>
            <span class="n">vDuration</span><span class="p">,</span>
            <span class="n">vFloat</span><span class="p">,</span>
            <span class="n">vFrequency</span><span class="p">,</span>
            <span class="n">vGeo</span><span class="p">,</span>
            <span class="n">vInline</span><span class="p">,</span>
            <span class="n">vInt</span><span class="p">,</span>
            <span class="n">vPeriod</span><span class="p">,</span>
            <span class="n">vRecur</span><span class="p">,</span>
            <span class="n">vText</span><span class="p">,</span>
            <span class="n">vTime</span><span class="p">,</span>
            <span class="n">vUTCOffset</span><span class="p">,</span>
            <span class="n">vUri</span><span class="p">,</span>
            <span class="n">vWeekday</span><span class="p">,</span>
            <span class="n">vCategory</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;binary&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vBinary</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;boolean&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vBoolean</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;cal-address&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vCalAddress</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vDDDTypes</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;date-time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vDDDTypes</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;duration&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vDDDTypes</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;float&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vFloat</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;integer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vInt</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;period&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vPeriod</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;recur&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vRecur</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vText</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vTime</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;uri&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vUri</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;utc-offset&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vUTCOffset</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;geo&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vGeo</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;inline&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vInline</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;date-time-list&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vDDDLists</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;categories&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vCategory</span>

    <span class="c1">#################################################</span>
    <span class="c1"># Property types</span>

    <span class="c1"># These are the default types</span>
    <span class="n">types_map</span> <span class="o">=</span> <span class="n">CaselessDict</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="c1">####################################</span>
            <span class="c1"># Property value types</span>
            <span class="c1"># Calendar Properties</span>
            <span class="s2">&quot;calscale&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;prodid&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="c1"># Descriptive Component Properties</span>
            <span class="s2">&quot;attach&quot;</span><span class="p">:</span> <span class="s2">&quot;uri&quot;</span><span class="p">,</span>
            <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="s2">&quot;categories&quot;</span><span class="p">,</span>
            <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;geo&quot;</span><span class="p">:</span> <span class="s2">&quot;geo&quot;</span><span class="p">,</span>
            <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;percent-complete&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
            <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
            <span class="s2">&quot;resources&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;summary&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="c1"># Date and Time Component Properties</span>
            <span class="s2">&quot;completed&quot;</span><span class="p">:</span> <span class="s2">&quot;date-time&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dtend&quot;</span><span class="p">:</span> <span class="s2">&quot;date-time&quot;</span><span class="p">,</span>
            <span class="s2">&quot;due&quot;</span><span class="p">:</span> <span class="s2">&quot;date-time&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dtstart&quot;</span><span class="p">:</span> <span class="s2">&quot;date-time&quot;</span><span class="p">,</span>
            <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="s2">&quot;duration&quot;</span><span class="p">,</span>
            <span class="s2">&quot;freebusy&quot;</span><span class="p">:</span> <span class="s2">&quot;period&quot;</span><span class="p">,</span>
            <span class="s2">&quot;transp&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;refresh-interval&quot;</span><span class="p">:</span> <span class="s2">&quot;duration&quot;</span><span class="p">,</span>  <span class="c1"># RFC 7986</span>
            <span class="c1"># Time Zone Component Properties</span>
            <span class="s2">&quot;tzid&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tzname&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tzoffsetfrom&quot;</span><span class="p">:</span> <span class="s2">&quot;utc-offset&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tzoffsetto&quot;</span><span class="p">:</span> <span class="s2">&quot;utc-offset&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tzurl&quot;</span><span class="p">:</span> <span class="s2">&quot;uri&quot;</span><span class="p">,</span>
            <span class="c1"># Relationship Component Properties</span>
            <span class="s2">&quot;attendee&quot;</span><span class="p">:</span> <span class="s2">&quot;cal-address&quot;</span><span class="p">,</span>
            <span class="s2">&quot;contact&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;organizer&quot;</span><span class="p">:</span> <span class="s2">&quot;cal-address&quot;</span><span class="p">,</span>
            <span class="s2">&quot;recurrence-id&quot;</span><span class="p">:</span> <span class="s2">&quot;date-time&quot;</span><span class="p">,</span>
            <span class="s2">&quot;related-to&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;uri&quot;</span><span class="p">,</span>
            <span class="s2">&quot;conference&quot;</span><span class="p">:</span> <span class="s2">&quot;uri&quot;</span><span class="p">,</span>  <span class="c1"># RFC 7986</span>
            <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;uri&quot;</span><span class="p">,</span>
            <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="c1"># Recurrence Component Properties</span>
            <span class="s2">&quot;exdate&quot;</span><span class="p">:</span> <span class="s2">&quot;date-time-list&quot;</span><span class="p">,</span>
            <span class="s2">&quot;exrule&quot;</span><span class="p">:</span> <span class="s2">&quot;recur&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rdate&quot;</span><span class="p">:</span> <span class="s2">&quot;date-time-list&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rrule&quot;</span><span class="p">:</span> <span class="s2">&quot;recur&quot;</span><span class="p">,</span>
            <span class="c1"># Alarm Component Properties</span>
            <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;repeat&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
            <span class="s2">&quot;trigger&quot;</span><span class="p">:</span> <span class="s2">&quot;duration&quot;</span><span class="p">,</span>
            <span class="s2">&quot;acknowledged&quot;</span><span class="p">:</span> <span class="s2">&quot;date-time&quot;</span><span class="p">,</span>
            <span class="c1"># Change Management Component Properties</span>
            <span class="s2">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;date-time&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dtstamp&quot;</span><span class="p">:</span> <span class="s2">&quot;date-time&quot;</span><span class="p">,</span>
            <span class="s2">&quot;last-modified&quot;</span><span class="p">:</span> <span class="s2">&quot;date-time&quot;</span><span class="p">,</span>
            <span class="s2">&quot;sequence&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
            <span class="c1"># Miscellaneous Component Properties</span>
            <span class="s2">&quot;request-status&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="c1">####################################</span>
            <span class="c1"># parameter types (luckily there is no name overlap)</span>
            <span class="s2">&quot;altrep&quot;</span><span class="p">:</span> <span class="s2">&quot;uri&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cn&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cutype&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;delegated-from&quot;</span><span class="p">:</span> <span class="s2">&quot;cal-address&quot;</span><span class="p">,</span>
            <span class="s2">&quot;delegated-to&quot;</span><span class="p">:</span> <span class="s2">&quot;cal-address&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;uri&quot;</span><span class="p">,</span>
            <span class="s2">&quot;encoding&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fmttype&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fbtype&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;language&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;member&quot;</span><span class="p">:</span> <span class="s2">&quot;cal-address&quot;</span><span class="p">,</span>
            <span class="s2">&quot;partstat&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;range&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;related&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;reltype&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rsvp&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
            <span class="s2">&quot;sent-by&quot;</span><span class="p">:</span> <span class="s2">&quot;cal-address&quot;</span><span class="p">,</span>
            <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>

<div class="viewcode-block" id="TypesFactory.for_property">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.TypesFactory.for_property">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">for_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a the default type for a property or parameter&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">types_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">)]</span></div>


<div class="viewcode-block" id="TypesFactory.to_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.TypesFactory.to_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Encodes a named value from a primitive python type to an icalendar</span>
<span class="sd">        encoded string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">type_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">for_property</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">type_class</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">to_ical</span><span class="p">()</span></div>


<div class="viewcode-block" id="TypesFactory.from_ical">
<a class="viewcode-back" href="../../reference/api/icalendar.prop.html#icalendar.TypesFactory.from_ical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_ical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Decodes a named property or parameter value from an icalendar</span>
<span class="sd">        encoded string to a primitive python type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">type_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">for_property</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">type_class</span><span class="o">.</span><span class="n">from_ical</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>
</div>



<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;DURATION_REGEX&quot;</span><span class="p">,</span>
    <span class="s2">&quot;WEEKDAY_RULE&quot;</span><span class="p">,</span>
    <span class="s2">&quot;TimeBase&quot;</span><span class="p">,</span>
    <span class="s2">&quot;TypesFactory&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tzid_from_dt&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tzid_from_tzinfo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vBinary&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vBoolean&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vCalAddress&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vCategory&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vDDDLists&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vDDDTypes&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vDate&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vDatetime&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vDuration&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vFloat&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vFrequency&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vGeo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vInline&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vInt&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vMonth&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vPeriod&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vRecur&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vSkip&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vText&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vTime&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vUTCOffset&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vUri&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vWeekday&quot;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>

                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, Plone Foundation.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>